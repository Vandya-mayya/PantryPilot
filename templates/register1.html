<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PantryPilot - Login</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <style>
        /* General Styles */
        body.pantry-auth {
            background-color: #f8f9fa;
            background-image: url('https://images.unsplash.com/photo-1606787366850-de6330128bfc?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            background-blend-mode: overlay;
            background-color: rgba(248, 249, 250, 0.9);
        }

        .min-vh-100 {
            min-height: 100vh;
        }

        /* Card Styles */
        .auth-card {
            border-radius: 15px;
            overflow: hidden;
            border: none;
        }

        /* Brand Column Styles */
        .brand-col {
            background-color: #4CAF50;
            color: white;
            padding: 3rem;
            display: flex;
            align-items: center;
        }

        .brand-content {
            width: 100%;
        }

        .logo {
            width: 80px;
            height: auto;
        }

        .brand-title {
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .brand-subtitle {
            opacity: 0.9;
            margin-bottom: 2rem;
        }

        .features {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .feature-item i {
            font-size: 1.2rem;
        }

        /* Form Column Styles */
        .form-col {
            background-color: white;
        }

        .card-body {
            padding: 3rem !important;
        }

        /* Form Styles */
        .form-label {
            font-weight: 500;
        }

        .input-group-text {
            background-color: #f1f1f1;
        }

        .toggle-password {
            cursor: pointer;
        }

        /* Button Styles */
        .btn-primary {
            background-color: #4CAF50;
            border-color: #4CAF50;
            padding: 0.5rem;
        }

        .btn-primary:hover {
            background-color: #3d8b40;
            border-color: #3d8b40;
        }

        /* Social Login Buttons */
        .social-login .btn {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Alert Styles */
        .alert {
            margin-top: 1rem;
        }

        /* Responsive Adjustments */
        @media (max-width: 767.98px) {
            .auth-card {
                margin: 1rem;
            }
            
            .brand-col {
                display: none;
            }
            
            .card-body {
                padding: 2rem !important;
            }
        }

        /* Animation for form switching */
        .form-switch {
            transition: all 0.3s ease;
        }
        /* Add to existing styles */
.auth-forms {
    position: relative;
    overflow: hidden;
    height: auto;
}

.form-slide {
    position: absolute;
    width: 100%;
    transition: all 0.5s ease;
    opacity: 0;
    transform: translateX(100%);
    z-index: 1;
}

.form-slide.active {
    opacity: 1;
    transform: translateX(0);
    z-index: 2;
    position: relative;
}

    </style>
</head>
<body class="pantry-auth">
    <div class="container">
        <div class="row justify-content-center align-items-center min-vh-100">
            <div class="col-lg-8">
                <div class="card auth-card shadow-lg">
                    <div class="row g-0">
                        <!-- Left Side - Branding -->
                        <div class="col-md-6 d-none d-md-flex brand-col">
                            <div class="brand-content">
                                <img src="4.jpg" alt="Logo" class="logo mb-4">
                                <h1 class="brand-title">PantryPilot</h1>
                                <p class="brand-subtitle">Organize your kitchen, reduce waste, and cook smarter</p>
                                <div class="features mt-5">
                                    <div class="feature-item">
                                        <i class="fas fa-box-open"></i>
                                        <span>Digital pantry inventory</span>
                                    </div>
                                    <div class="feature-item">
                                        <i class="fas fa-bell"></i>
                                        <span>Expiry date alerts</span>
                                    </div>
                                    <div class="feature-item">
                                        <i class="fas fa-utensils"></i>
                                        <span> recipe suggestions</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Side - Forms -->
                        <div class="col-md-6 form-col">
    <div class="card-body p-5 auth-forms position-relative">
                                <!-- Login Form -->
        <div id="loginForm" class="form-slide active">
                                    <h2 class="text-center mb-4">Welcome Back</h2>
                                    <div id="loginAlert" class="alert alert-danger d-none"></div>
                                    <form id="loginUserForm" action="/login" method="POST">
                                        <div class="mb-3">
                                            <label for="loginEmail" class="form-label">Email address</label>
                                            <div class="input-group">
                                                <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                                                <input type="email" class="form-control" id="loginEmail" name="email" required>
<
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label for="loginPassword" class="form-label">Password</label>
                                            <div class="input-group">
                                                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                                                <input type="password" class="form-control" id="loginPassword" required>
                                                <button class="btn btn-outline-secondary toggle-password" type="button">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="d-flex justify-content-between mb-3">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="rememberMe">
                                                <label class="form-check-label" for="rememberMe">Remember me</label>
                                            </div>
                                            <a href="#" id="forgotPasswordLink">Forgot password?</a>
                                        </div>
                                        <button type="submit" class="btn btn-primary w-100 mb-3">Login</button>
                                        <div class="text-center mb-3">
                                            <span>or continue with</span>
                                        </div>
                                        <div class="social-login d-flex justify-content-center gap-3 mb-4">
                                            <button type="button" class="btn btn-outline-primary rounded-circle">
                                                <i class="fab fa-google"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-primary rounded-circle">
                                                <i class="fab fa-facebook-f"></i>
                                            </button>
                                            <button type="button" class="btn btn-outline-primary rounded-circle">
                                                <i class="fab fa-apple"></i>
                                            </button>
                                        </div>
                                        <div class="text-center">
                                            <p>Don't have an account? <a href="#" id="showRegister">Register</a></p>
                                        </div>
                                    </form>
                                </div>
                                
                                <!-- Register Form (Hidden by default) -->
        <div id="registerForm" class="form-slide">
                                    <h2 class="text-center mb-4">Create Account</h2>
                                    <div id="registerAlert" class="alert alert-danger d-none"></div>
                                    <form id="registerUserForm">
                                        <div class="mb-3">
                                            <label for="registerName" class="form-label">Full Name</label>
                                            <div class="input-group">
                                                <span class="input-group-text"><i class="fas fa-user"></i></span>
                                                <input type="text" class="form-control" id="registerName" required>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label for="registerEmail" class="form-label">Email address</label>
                                            <div class="input-group">
                                                <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                                                <input type="email" class="form-control" id="registerEmail" required>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label for="registerPassword" class="form-label">Password</label>
                                            <div class="input-group">
                                                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                                                <input type="password" class="form-control" id="registerPassword" required>
                                                <button class="btn btn-outline-secondary toggle-password" type="button">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                            </div>
                                            <div class="form-text">Must be at least 8 characters</div>
                                        </div>
                                        <div class="mb-3">
                                            <label for="registerConfirmPassword" class="form-label">Confirm Password</label>
                                            <div class="input-group">
                                                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                                                <input type="password" class="form-control" id="registerConfirmPassword" required>
                                            </div>
                                        </div>
                                        <div class="mb-3 form-check">
                                            <input type="checkbox" class="form-check-input" id="termsCheck" required>
                                            <label class="form-check-label" for="termsCheck">I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a></label>
                                        </div>
                                        <button type="submit" class="btn btn-primary w-100 mb-3">Register</button>
                                        <div class="text-center">
                                            <p>Already have an account? <a href="#" id="showLogin">Login</a></p>
                                        </div>
                                    </form>
                                </div>
                                
                                <!-- Forgot Password Form (Hidden by default) -->
        <div id="forgotPasswordForm" class="form-slide">
                                    <h2 class="text-center mb-4">Reset Password</h2>
                                    <div id="forgotPasswordAlert" class="alert d-none"></div>
                                    <form id="resetPasswordForm">
                                        <div class="mb-4 text-center">
                                            <p>Enter your email address and we'll send you a link to reset your password.</p>
                                        </div>
                                        <div class="mb-3">
                                            <label for="forgotEmail" class="form-label">Email address</label>
                                            <div class="input-group">
                                                <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                                                <input type="email" class="form-control" id="forgotEmail" required>
                                            </div>
                                        </div>
                                        <button type="submit" class="btn btn-primary w-100 mb-3">Send Reset Link</button>
                                        <div class="text-center">
                                            <p>Remember your password? <a href="#" id="backToLogin">Back to login</a></p>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const forgotPasswordForm = document.getElementById('forgotPasswordForm');
            const showRegisterLink = document.getElementById('showRegister');
            const showLoginLink = document.getElementById('showLogin');
            const forgotPasswordLink = document.getElementById('forgotPasswordLink');
            const backToLoginLink = document.getElementById('backToLogin');
            const togglePasswordButtons = document.querySelectorAll('.toggle-password');
            
            // Alert elements
            const loginAlert = document.getElementById('loginAlert');
            const registerAlert = document.getElementById('registerAlert');
            const forgotPasswordAlert = document.getElementById('forgotPasswordAlert');
            
            // User data storage (simulating a database)
            const users = JSON.parse(localStorage.getItem('PantryPilotUsers')) || [];
            
            function switchForm(formIdToShow) {
    const forms = ['loginForm', 'registerForm', 'forgotPasswordForm'];
    forms.forEach(formId => {
        const form = document.getElementById(formId);
        if (formId === formIdToShow) {
            form.classList.add('active');
        } else {
            form.classList.remove('active');
        }
    });
    clearAlerts();
}

showRegisterLink.addEventListener('click', function(e) {
    e.preventDefault();
    switchForm('registerForm');
});

showLoginLink.addEventListener('click', function(e) {
    e.preventDefault();
    switchForm('loginForm');
});

forgotPasswordLink.addEventListener('click', function(e) {
    e.preventDefault();
    switchForm('forgotPasswordForm');
});

backToLoginLink.addEventListener('click', function(e) {
    e.preventDefault();
    switchForm('loginForm');
});

            
            // Toggle password visibility
            togglePasswordButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const input = this.parentElement.querySelector('input');
                    const icon = this.querySelector('i');
                    
                    if (input.type === 'password') {
                        input.type = 'text';
                        icon.classList.remove('fa-eye');
                        icon.classList.add('fa-eye-slash');
                    } else {
                        input.type = 'password';
                        icon.classList.remove('fa-eye-slash');
                        icon.classList.add('fa-eye');
                    }
                });
            });
            
            // Login Form Submission
            document.getElementById('loginUserForm').addEventListener('submit', function(e) {
                e.preventDefault();
                clearAlerts();
                
                const email = document.getElementById('loginEmail').value.trim();
                const password = document.getElementById('loginPassword').value;
                const rememberMe = document.getElementById('rememberMe').checked;
                
                // Validation
                if (!email || !password) {
                    showAlert(loginAlert, 'Please fill in all fields', 'danger');
                    return;
                }
                
                // Check if user exists
                const user = users.find(u => u.email === email && u.password === password);
                
                if (user) {
                    // In a real app, you would set a proper session/token
                    if (rememberMe) {
                        localStorage.setItem('pantryPilotRememberedEmail', email);
                    }
                    
                    showAlert(loginAlert, 'Login successful! Redirecting...', 'success');
                    
                    // Simulate redirect
                    setTimeout(() => {
                        // window.location.href = 'dashboard.html';
                        console.log('Redirecting to dashboard...');
                    }, 1500);
                } else {
                    showAlert(loginAlert, 'Invalid email or password', 'danger');
                }
            });
            
            // Registration Form Submission
            document.getElementById('registerUserForm').addEventListener('submit', function(e) {
                e.preventDefault();
                clearAlerts();
                
                const name = document.getElementById('registerName').value.trim();
                const email = document.getElementById('registerEmail').value.trim();
                const password = document.getElementById('registerPassword').value;
                const confirmPassword = document.getElementById('registerConfirmPassword').value;
                const termsAccepted = document.getElementById('termsCheck').checked;
                
                // Validation
                if (!name || !email || !password || !confirmPassword) {
                    showAlert(registerAlert, 'Please fill in all fields', 'danger');
                    return;
                }
                
                if (password !== confirmPassword) {
                    showAlert(registerAlert, 'Passwords do not match', 'danger');
                    return;
                }
                
                if (password.length < 8) {
                    showAlert(registerAlert, 'Password must be at least 8 characters', 'danger');
                    return;
                }
                
                if (!termsAccepted) {
                    showAlert(registerAlert, 'You must accept the terms and conditions', 'danger');
                    return;
                }
                
                // Check if user already exists
                const userExists = users.some(u => u.email === email);
                
                if (userExists) {
                    showAlert(registerAlert, 'An account with this email already exists', 'danger');
                    return;
                }
                
                // Create new user (in a real app, password would be hashed)
                const newUser = {
                    id: Date.now().toString(),
                    name,
                    email,
                    password, // In production, NEVER store plain text passwords
                    createdAt: new Date().toISOString()
                };
                
                users.push(newUser);
                localStorage.setItem('pantryPilotUsers', JSON.stringify(users));
                
                showAlert(registerAlert, 'Registration successful! You can now login.', 'success');
                
                // Clear form
                document.getElementById('registerUserForm').reset();
                
                // Switch to login form after delay
                setTimeout(() => {
                    loginForm.style.display = 'block';
                    registerForm.style.display = 'none';
                    clearAlerts();
                }, 2000);
            });
            
            // Forgot Password Form Submission
            document.getElementById('resetPasswordForm').addEventListener('submit', function(e) {
                e.preventDefault();
                clearAlerts();
                
                const email = document.getElementById('forgotEmail').value.trim();
                
                if (!email) {
                    showAlert(forgotPasswordAlert, 'Please enter your email address', 'danger');
                    return;
                }
                
                // Check if user exists
                const userExists = users.some(u => u.email === email);
                
                if (userExists) {
                    showAlert(forgotPasswordAlert, 'If an account exists with this email, you will receive a password reset link.', 'success');
                    
                    // In a real app, you would send an email with a reset link
                    console.log('Password reset email sent to:', email);
                    
                    // Clear form
                    document.getElementById('resetPasswordForm').reset();
                    
                    // Return to login after delay
                    setTimeout(() => {
                        loginForm.style.display = 'block';
                        forgotPasswordForm.style.display = 'none';
                        clearAlerts();
                    }, 2000);
                } else {
                    showAlert(forgotPasswordAlert, 'If an account exists with this email, you will receive a password reset link.', 'success');
                    
                    // We show the same message whether the user exists or not for security
                    setTimeout(() => {
                        loginForm.style.display = 'block';
                        forgotPasswordForm.style.display = 'none';
                        clearAlerts();
                    }, 2000);
                }
            });
           
            
            // Helper functions
            function showAlert(element, message, type) {
    element.textContent = message;
    element.classList.remove('d-none', 'alert-danger', 'alert-success', 'alert-info');
    element.classList.add(`alert-${type}`);
}

            
            function clearAlerts() {
                [loginAlert, registerAlert, forgotPasswordAlert].forEach(alert => {
                    alert.classList.add('d-none');
                });
            }
            
            // Check for remembered email
            const rememberedEmail = localStorage.getItem('pantryPilotRememberedEmail');
            if (rememberedEmail) {
                document.getElementById('loginEmail').value = rememberedEmail;
                document.getElementById('rememberMe').checked = true;
            }
        });
    </script>
</body>
</html>
